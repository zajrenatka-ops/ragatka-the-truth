local TweenService = game:GetService(`TweenService`)
local Debris = game:GetService(`Debris`)

local Info = TweenInfo.new(.15)
local InfoV2 = TweenInfo.new(.6, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out)
local InfoBoom = TweenInfo.new(.5, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out)
local InfoBack = TweenInfo.new(.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out)

local GuiModule = {
	Colors = {
		Black = Color3.fromRGB(0,0,0),
		White = Color3.fromRGB(255,255,255),
		Blue = Color3.fromRGB(0, 80, 255),
		Red = Color3.fromRGB(255, 0, 4),
	},
	Icons = {
		Close = `http://www.roblox.com/asset/?id=6031094678`,
		Peoples = `http://www.roblox.com/asset/?id=6034287513`,
		Delete = `http://www.roblox.com/asset/?id=6022668939`,
		TwoChecked = `http://www.roblox.com/asset/?id=6023426929`,

		Additional = `http://www.roblox.com/asset/?id=6035047380`,
		Hammer = `rbxassetid://3429559843`,
		Kick = `http://www.roblox.com/asset/?id=6031084771`,
		Unban = `http://www.roblox.com/asset/?id=6034439642`,
		WhiteList = `http://www.roblox.com/asset/?id=6026568229`,
		Friends = `rbxasset://textures/ui/Settings/Players/FriendIcon@2x.png`,
		All = `rbxasset://textures/ui/Settings/LeaveGame/playernumber_strokeStyle@3x.png`,
		OnePlayer = `rbxasset://textures/ui/PlayerList/NewFollowing@3x.png`,
		GlobalMessage = `http://www.roblox.com/asset/?id=6022668946`,
		Send = `http://www.roblox.com/asset/?id=6035067832`,
		Spam = `http://www.roblox.com/asset/?id=6035067826`,
		Time = `http://www.roblox.com/asset/?id=6031754541`,
		Update = `http://www.roblox.com/asset/?id=6031225810`,
	},
}

function GuiModule.Corner(guiObject, Radius:number)
	local Corner = Instance.new(`UICorner`)
	Corner.CornerRadius = UDim.new(0, Radius or 10)

	Corner.Parent = guiObject
	return Corner
end

function GuiModule.Gradient(guiObject, Color1:Color3, Color2:Color3)
	local Gradient = Instance.new(`UIGradient`)
	Gradient.Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, Color1),
		ColorSequenceKeypoint.new(1, Color2)
	})

	Gradient.Parent = guiObject
	return Gradient
end

function GuiModule.Padding(guiObject)
	local Padding = Instance.new(`UIPadding`)
	Padding.PaddingBottom = UDim.new(0,5)
	Padding.PaddingLeft = UDim.new(0,15)
	Padding.PaddingRight = UDim.new(0,15)
	Padding.PaddingTop = UDim.new(0,5)

	Padding.Parent = guiObject
	return Padding
end

function GuiModule.Stroke(guiObject)
	local Stroke = Instance.new(`UIStroke`)
	Stroke.Thickness = 1
	Stroke.Color = Color3.fromRGB(255,255,255)
	Stroke.Transparency = .5
	Stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	Stroke.Parent = guiObject

	return Stroke
end

function GuiModule.Notificate(Text:string, Sound, Time:number, to)

	--SoundsModule.PlaySound(SoundsModule.vaznoe_notif)


	local Notif = Instance.new(`TextButton`)
	Notif.Size = UDim2.fromScale(0,0)
	Notif.TextSize = 20
	Notif.Font = Enum.Font.Nunito
	Notif.AutomaticSize = `XY`
	Notif.RichText = true
	Notif.Parent = to
	Notif.TextColor3 = Color3.fromRGB(255,255,255)
	Notif.BackgroundTransparency = 1
	Notif.TextTransparency = 1
	Notif.BackgroundColor3 = Color3.fromRGB(0,0,0)

	GuiModule.Padding(Notif)
	GuiModule.Corner(Notif).CornerRadius = UDim.new(1,0)

	task.defer(function()
		for i = 0, #Text do
			Notif.Text = string.sub(Text, 1, i)
			task.wait(.01)
		end
	end)

	local function Close()
		TweenService:Create(Notif, InfoV2, {BackgroundTransparency = 1, TextTransparency = 1}):Play()
		Debris:AddItem(Notif, .5)
	end

	local Carantine = coroutine.create(function()
		TweenService:Create(Notif, InfoV2, {BackgroundTransparency = .5, TextTransparency = 0}):Play()

		task.wait(Time - .5)
		Close()
	end)

	coroutine.resume(Carantine)

	Notif.MouseButton1Click:Connect(function()
		coroutine.close(Carantine)
		Close()
	end)

end

function GuiModule.Text(parentTo, IgnoreUIComponents:boolean)
	local Text = Instance.new(`TextLabel`)

	if not IgnoreUIComponents then
		local Corner = GuiModule.Corner(Text)
		local Padding = GuiModule.Padding(Text)
		local Stroke = GuiModule.Stroke(Text)
	end

	Text.BackgroundTransparency = 1
	Text.TextSize = 22
	Text.Font = Enum.Font.RobotoMono
	Text.AutomaticSize = `XY`
	Text.RichText = true
	Text.Size = UDim2.fromOffset(0,0)
	Text.TextColor3 = Color3.fromRGB(255,255,255)
	Text.Parent = parentTo
	return Text
end

function GuiModule.Button(guiObject, Icon)
	local Button = Instance.new(`TextButton`)

	Button.TextTransparency = 1
	Button.BackgroundColor3 = Color3.fromRGB(255,255,255)
	Button.TextSize = 22
	Button.Font = Enum.Font.RobotoMono
	Button.FontFace.Bold = true
	Button.AutomaticSize = `XY`
	Button.RichText = true
	Button.Size = UDim2.fromOffset(0,0)
	Button.AutoButtonColor = false


	local ButtonIcon
	if Icon then
		local List = GuiModule.List(Button)
		List.FillDirection = Enum.FillDirection.Horizontal
		List.HorizontalAlignment = Enum.HorizontalAlignment.Left
		List.VerticalAlignment = Enum.VerticalAlignment.Center

		ButtonIcon = GuiModule.Icon(Button, Icon)
	end

	local ButtonText = GuiModule.Text(Button, true)
	ButtonText.TextColor3 = Color3.fromRGB(0,0,0)

	Button:GetPropertyChangedSignal(`Text`):Connect(function()

		ButtonText.Text = Button.Text
	end)

	local Gradient = GuiModule.Gradient(Button, Color3.fromRGB(255, 255, 255), Color3.fromRGB(195, 195, 195))

	local Corner = GuiModule.Corner(Button)
	local Padding = GuiModule.Padding(Button)
	local Stroke = GuiModule.Stroke(Button)

	Button.MouseEnter:Connect(function()
		--SoundsModule.PlaySound(SoundsModule.hover)

		if Icon then
			TweenService:Create(ButtonIcon, Info, {Size = UDim2.fromOffset(27,27)}):Play()
		end
		TweenService:Create(Gradient, Info, {Rotation = 30}):Play()
		TweenService:Create(Corner, Info, {CornerRadius = UDim.new(0,20)}):Play()

		TweenService:Create(Button, Info, {BackgroundColor3 = Color3.fromRGB(213, 213, 213)}):Play()
		TweenService:Create(Padding, Info, { PaddingLeft = UDim.new(0,20), PaddingRight = UDim.new(0,20) }):Play()
		TweenService:Create(Stroke, InfoBack, {BorderOffset = UDim.new(0,3)}):Play()
	end)

	Button.MouseLeave:Connect(function()
		if Icon then
			TweenService:Create(ButtonIcon, Info, {Size = UDim2.fromOffset(20,20)}):Play()
		end
		TweenService:Create(Gradient, Info, {Rotation = 0}):Play()
		TweenService:Create(Corner, Info, {CornerRadius = UDim.new(0,10)}):Play()

		TweenService:Create(Button, Info, {BackgroundColor3 = Color3.fromRGB(255, 255, 255)}):Play()
		TweenService:Create(Padding, Info, { PaddingLeft = UDim.new(0,15), PaddingRight = UDim.new(0,15) }):Play()
		TweenService:Create(Stroke, InfoBack, {BorderOffset = UDim.new(0,0)}):Play()
	end)

	Button.MouseButton1Down:Connect(function()
		if Icon then
			TweenService:Create(ButtonIcon, Info, {Size = UDim2.fromOffset(20,20)}):Play()
		end
		TweenService:Create(Gradient, Info, {Rotation = 90}):Play()
		TweenService:Create(Corner, Info, {CornerRadius = UDim.new(0,10)}):Play()

		TweenService:Create(Button, TweenInfo.new(.2), {BackgroundColor3 = Color3.fromRGB(172, 172, 172)}):Play()
		TweenService:Create(Padding, InfoBoom, { PaddingLeft = UDim.new(0,15), PaddingRight = UDim.new(0,15) }):Play()
		TweenService:Create(Stroke, InfoBack, {BorderOffset = UDim.new(0,0)}):Play()
	end)

	Button.MouseButton1Click:Connect(function()
		if Icon then
			TweenService:Create(ButtonIcon, Info, {Size = UDim2.fromOffset(20,20)}):Play()
		end
		TweenService:Create(Gradient, Info, {Rotation = 0}):Play()
		TweenService:Create(Corner, Info, {CornerRadius = UDim.new(0,10)}):Play()

		TweenService:Create(Button, TweenInfo.new(.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255)}):Play()

	end)

	Button.Parent = guiObject

	return Button
end

function GuiModule.Frame(ParentTo)
	local Osnova = Instance.new(`Frame`)
	GuiModule.Corner(Osnova)
	Osnova.BackgroundTransparency = .5
	Osnova.AnchorPoint = Vector2.new(0.5,0.5)
	Osnova.Position = UDim2.fromScale(.5,.5)
	Osnova.AutomaticSize = `XY`
	Osnova.Size = UDim2.fromOffset(0,0)
	Osnova.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Osnova.BorderSizePixel = 0
	--Osnova.Parent = MainGui

	local Drag = Instance.new(`UIDragDetector`)
	Drag.ResponseStyle = Enum.UIDragDetectorResponseStyle.Scale
	Drag.Parent = Osnova

	local Padding = GuiModule.Padding(Osnova)
	Padding.PaddingTop = UDim.new(0,15)
	Padding.PaddingBottom = UDim.new(0,15)

	local List = GuiModule.List(Osnova)

	return Osnova
end

function GuiModule.List(guiObject)
	local List = Instance.new(`UIListLayout`)
	List.SortOrder = `LayoutOrder`
	List.HorizontalAlignment = `Left`
	List.Padding = UDim.new(0,5)
	List.Parent = guiObject
	return List
end

function GuiModule.Icon(parentTo, Image:string)
	local Icon = Instance.new(`ImageLabel`)
	if Image then
		Icon.Image = Image
	end
	Icon.BorderSizePixel = 0
	Icon.Transparency = 1
	Icon.ImageColor3 = Color3.fromRGB(0,0,0)
	Icon.Size = UDim2.fromOffset(20,20)
	Icon.Parent = parentTo
	--GuiModule.Corner(Icon)

	return Icon
end

function GuiModule.Scrolling(parentTo)
	local Scroll = Instance.new(`ScrollingFrame`)
	Scroll.Size = UDim2.new(1,0,0,70)
	Scroll.AutomaticCanvasSize = `XY`
	Scroll.LayoutOrder = 0
	Scroll.BackgroundTransparency = 1
	Scroll.CanvasSize = UDim2.new(0,0,0,0)
	Scroll.Parent = parentTo
	GuiModule.List(Scroll).FillDirection = Enum.FillDirection.Horizontal

	return Scroll
end

function GuiModule.TextBox(parentTo)

	local TextBox = Instance.new(`TextBox`)
	TextBox.TextSize = 22
	TextBox.BorderMode = `Inset`
	TextBox.Font = Enum.Font.RobotoMono
	TextBox.BackgroundColor3 = Color3.fromRGB(255,255,255)
	TextBox.Size = UDim2.fromOffset(0,0)
	TextBox.AutomaticSize = `XY`
	TextBox.ClearTextOnFocus = false
	TextBox.Text = ``
	TextBox.Parent = parentTo
	GuiModule.Corner(TextBox)
	local Padding = GuiModule.Padding(TextBox)
	local Stroke = GuiModule.Stroke(TextBox)

	TextBox.Focused:Connect(function()
		TweenService:Create(Padding, InfoV2, { PaddingLeft = UDim.new(0,10), PaddingRight = UDim.new(0,120) }):Play()
	end)

	TextBox.FocusLost:Connect(function()
		TweenService:Create(Padding, Info, { PaddingLeft = UDim.new(0,15), PaddingRight = UDim.new(0,15) }):Play()
		TweenService:Create(Stroke, InfoBack, {BorderOffset = UDim.new(0,0)}):Play()
	end)

	TextBox.MouseEnter:Connect(function()
		TweenService:Create(Padding, Info, { PaddingLeft = UDim.new(0,20), PaddingRight = UDim.new(0,20) }):Play()
		TweenService:Create(Stroke, InfoBack, {BorderOffset = UDim.new(0,3)}):Play()
	end)

	TextBox.MouseLeave:Connect(function()
		TweenService:Create(Stroke, InfoBack, {BorderOffset = UDim.new(0,0)}):Play()
	end)

	return TextBox
end

function GuiModule.AutoSizeFrame(parentTo)
	local Frame = GuiModule.Frame()
	Frame:FindFirstChild(`UIDragDetector`):Destroy()
	Frame.AutomaticSize = `XY`
	Frame.BackgroundTransparency = 1
	Frame.Size = UDim2.fromOffset(0,0)
	Frame.Parent = parentTo

	return Frame
end

function GuiModule.ScreenGui(parentTo)
	local Gui = Instance.new(`ScreenGui`)
	Gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	Gui.IgnoreGuiInset = false
	Gui.ResetOnSpawn = false
	Gui.Parent = parentTo or script
	return Gui
end

return GuiModule
